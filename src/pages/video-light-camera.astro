---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import ProjectGrid from "../components/ProjectGrid.astro";
import Preloader from "../components/Preloader.astro";


const title = "Jannis Reinelt - Video/Light/Camera";

const allProjects = await getCollection("projects");
const projects = allProjects
  .filter((p) => p.data.category === 'C' && p.data.online)
  .sort((a, b) => (a.data.order_video ?? 0) - (b.data.order_video ?? 0));
---

<BaseLayout title={title}>
<ProjectGrid projects={projects} />
</BaseLayout>
<script>
  
  import initVideo from "../scripts/initVideo.js";
  initVideo();
</script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
